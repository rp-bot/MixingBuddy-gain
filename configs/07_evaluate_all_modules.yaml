# @package _global_

# Default configurations for evaluation
defaults:
  - data: 03_synthesis_instructions
  - model: qwen2_7b_all_modules
  - evaluation: evaluation
  - training: training # Include training config for trainer compatibility
  - experiment_tracking: wandb
  - experiment_naming: experiment_naming
  - plotting: plotting
  - _self_

# Environment settings
env:
  seed: 42
  project_name: "automatic-mixing-milestone-0"
  # Output directory will be determined by checkpoint run name
  # output_dir: "outputs/evaluation/${now:%Y-%m-%d}/${now:%H-%M-%S}"

# Model checkpoint settings
checkpoint_path: outputs/checkpoints/mixing_buddy_milestone_0/qlora-qwen2-7b-all-modules-r16a32-musdb-1025-2025/checkpoint-600

# Set this to the path of your trained model checkpoint
# Options:
# - null: Use base model (no trained weights)
# - "latest": Automatically use the latest checkpoint
# - "path/to/checkpoint": Use specific checkpoint
# Example: "outputs/checkpoints/mixing_buddy_milestone_0/qlora-qwen2-7b-extended-lora-r8a16-musdb-1012-1301"
#
# IMPORTANT: The evaluation output directory will be automatically determined
# from the checkpoint path. For example, if checkpoint is:
# "outputs/checkpoints/mixing_buddy_milestone_0/qlora-qwen2-7b-extended-lora-r8a16-musdb-1020-2051/checkpoint-500"
# Then evaluation will be saved to:
# "outputs/evaluation/qlora-qwen2-7b-extended-lora-r8a16-musdb-1020-2051/predictions/"

# Predictions file path for metrics computation
# If not specified, the script will use the new evaluation structure
# predictions_path: "outputs/evaluation/2025-10-20/22-35-08/predictions/predictions.jsonl"

# Plotting configuration
plotting:
  # These will be automatically set based on checkpoint path
  metrics_file: null # Will be set to {output_dir}/predictions/metrics_results_detailed.json
  output_dir: null # Will be set to {output_dir}/predictions/

# Experiment tracking settings
experiment_tracking:
  use_wandb: true
  use_mlflow: false
# Hydra configuration
# Note: Output directory is now determined by checkpoint run name in the scripts
# hydra:
#   run:
#     dir: ${env.output_dir}
